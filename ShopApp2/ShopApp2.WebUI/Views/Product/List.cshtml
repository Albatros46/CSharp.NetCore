<!--model List<Product>-->
<!--ProductController de list metodu List olarak tanımlandığı için modelde de List olduğunu belirteceğiz.-->

@model ShopApp2.WebUI.ViewModels.ProductViewModel
@{
    var popularClass = Model.Products.Count > 4 ? "popular" : "popularDegil";
    //model üzerinden çağirmak yerine ;
    var product = Model.Products;
    var category = Model.Category;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ürün Listesi</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        .popular{
            color:green;
            font-weight: 700;
        } 
        .popularDegil{
            color:yellow;
        }
    </style>
</head>
<body>
    @await Html.PartialAsync("_Navbar")
    <!--partial sayfalar yukarıda ki gibi çağırıldığı gibi -->
    <partial name="_Header"> <!--veya -->
    @* @await Html.PartialAsync("_Header")*@
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 class="@popularClass">@category.Name</h1>
                </div>
            </div>
   
            @if (Model.Products.Count == 0)
            {
                    <partial name="_NoProduct" /><!--veya-->
                   @* @await Html.PartialAsync("_NoProduct") şeklinde de kullanılabilir. *@
            }
            else
            {
                 <div class="row">
                        @foreach (var p in product)
                        {
                            <div class="col-md-3">
                               @await Html.PartialAsync("_Product",p)
                            </div>
                        }
                </div>
            }
       </div>
    </main>
</body>
</html>